<main>
  <h1>BOUTIQUE</h1>
  <section class="products">
    <fieldset class="form-filter">
      <legend><h2>FILTRE</h2></legend>
      <form
        #form="ngForm"
        (ngSubmit)="filterReset(form)"
        (change)="handleFilterChange(form)"
      >
        <div class="categories" ngModelGroup="categories">
          <h3>Catégories</h3>
          <app-input *ngFor="let cat of cats" [cat]="cat"></app-input>
        </div>
        <div class="price" ngModelGroup="price">
          <h3>Prix</h3>
          <app-select
            *ngFor="let price of prices"
            [cat]="price"
            [options]="
              price.key === 'min' ? priceOptions.min : priceOptions.max
            "
            unit="€"
          ></app-select>
        </div>
        <div class="note" ngModelGroup="note">
          <h3>Note</h3>
          <app-select
            *ngFor="let note of notes"
            [cat]="note"
            [options]="noteOptions"
          ></app-select>
        </div>
        <button type="submit">Réinitialiser</button>
      </form>
      <!-- <p class="debug">
        {{ form.value | json }}
      </p> -->
    </fieldset>
    <div class="cards-container products">
      <app-card [data]="product" *ngFor="let product of products; index as idx">
      </app-card>
    </div>
  </section>
</main>
